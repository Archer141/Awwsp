@model IEnumerable<Awwsp.Models.Trophy>


    <div class="py-5 juicy-peach-gradient color-block d-flex min-vh-100 flex-column container-fluid ">
        @if (@TempData["Error"] != null)
        {
        <div class="toast" data-autohide="false">
            <div class="toast-header">
                <strong class="mr-auto text-primary">Error</strong>
             
                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">&times;</button>
            </div>
            <div class="toast-body">
                @TempData["Error"].ToString()
            </div>
        </div>
        }
        <div class="container  ">
            <h1 class="text-center h1 black-text">
                Trophies
            </h1>
            <hr />

            <div class="row ">
                @foreach (var item in Model)
                {
                    <div class="col my-2">
                        <div class="card shadow ">

                            <div class="card-header flex-center ">
                                <p class="card-title h4">@item.Name</p>

                            </div>
                            <div class="card-body mb-2">


                                @if (item.Photo != null)
                                {
                                    var base64 = Convert.ToBase64String(item.Photo.Image);
                                    var imgSrc = string.Format("data:image/gif;base64,{0}", base64);
                                    <div class="view overlay">
                                        <img onclick="setID()" src="@imgSrc" style="height:250px; width: 100%; display: block; object-fit:cover" />
                                        <a href="/Trophy/Details/@item.TrophyID">
                                            <div class="mask rgba-white-slight"></div>
                                        </a>
                                    </div>
                                }
                            </div>

                            <div class="card-footer d-flex justify-content-center">
                                <div class="btn-group ">
                                    @if (User.IsInRole("Admin") || User.IsInRole("HeadCoach"))
                                    {
                                        @Html.ActionLink("Edit", "Edit", new { id = item.TrophyID }, new { @class = "btn btn-sm btn-dark mr-1" })
                                    }
                                    @if (User.IsInRole("Admin") || User.IsInRole("HeadCoach"))
                                    {
                                        @Html.ActionLink("Assign", "Assign", new { id = item.TrophyID }, new { @class = "btn btn-sm btn-warning mr-1" })
                                    }
                                    @if (User.IsInRole("Admin") || User.IsInRole("HeadCoach"))
                                    {
                                        @Html.ActionLink("Delete", "Delete", new { id = item.TrophyID }, new { @class = "btn btn-sm btn-danger ml-1", })
                                    }
                                </div>
                            </div>

                        </div>
                    </div>
                }
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('.toast').toast('show');
        });
    </script>